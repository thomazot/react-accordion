{"version":3,"sources":["styles/img/check.svg","styles/img/less.svg","components/AccordionItem/AccordionItem.style.ts","styles/img/down.svg","components/AccordionItem/AccordionItem.tsx","components/Accordion/Accordion.style.ts","components/Accordion/Accordion.tsx","pages/Home/Home.tsx","services/Api.ts","App.tsx","index.tsx"],"names":["AccordionItem","styled","li","props","nv","count","total","IconLess","IconCheck","expanded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","SvgDown","_ref","svgRef","title","titleId","xmlns","viewBox","ref","id","ForwardRef","item","parentChecked","onChecked","name","children","useState","setExpanded","setCount","checked","setChecked","dispachParentChecked","setDispachParentChecked","updateParentChecked","useCallback","useEffect","data-count","data-level","data-total","data-testid","type","onChange","htmlFor","onClick","fill","width","height","items","oldCount","Accordion","ul","aria-expanded","map","Home","data","setData","url","fetch","headers","Accept","then","response","json","App","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef848f0e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/check.cbd8fde1.svg\";","export default __webpack_public_path__ + \"static/media/less.be5a83bd.svg\";","import styled from \"styled-components\"\nimport IconCheck from \"styles/img/check.svg\"\nimport IconLess from \"styles/img/less.svg\"\n\ntype LiProps = {\n  nv: number\n  count: number\n  total?: number\n  expanded?: boolean\n}\n\nexport const AccordionItem = styled.li<LiProps>`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n\n  > div {\n    display: flex;\n    align-items: stretch;\n\n    &:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    label {\n      flex: 1;\n      min-width: 0;\n      display: flex;\n      align-items: center;\n      padding: 16px;\n      cursor: pointer;\n\n      ${(props) =>\n        `\n        padding-left: ${props.nv * 26}px;\n      `}\n\n      &:before {\n        content: \"\";\n        width: 16px;\n        height: 16px;\n        display: block;\n        border: solid 1px rgba(0, 0, 0, 0.2);\n        border-radius: 3px;\n        margin-right: 8px;\n        ${({ count, total = 0 }) =>\n          count > 0 &&\n          count !== total &&\n          `\n          background: #00a3ea url(${IconLess}) no-repeat center center;\n          background-size: 10px 10px;\n        `}\n      }\n    }\n\n    input {\n      position: absolute;\n      opacity: 0;\n    }\n\n    input:checked + label:before {\n      ${({ count, total = 0 }) =>\n        count < total\n          ? `\n          background: #00a3ea url(${IconLess}) no-repeat center center;\n          background-size: 10px 10px;\n        `\n          : `\n          background: #00a3ea url(${IconCheck}) no-repeat center center;\n          background-size: 10px 10px;\n        `}\n    }\n\n    button {\n      width: 50px;\n      background: none;\n      border: none;\n      appearance: none;\n      cursor: pointer;\n\n      svg {\n        transition: all 0.2s ease-in-out;\n        ${({ expanded = false }) =>\n          expanded ? `transform: rotate(-180deg);` : `transform: rotate(0deg);`}\n      }\n\n      &:focus {\n        outline: none;\n      }\n\n      &:hover {\n        color: #00a3ea;\n      }\n    }\n  }\n`\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M505.755 123.592c-8.341-8.341-21.824-8.341-30.165 0L256.005 343.176 36.421 123.592c-8.341-8.341-21.824-8.341-30.165 0s-8.341 21.824 0 30.165l234.667 234.667a21.275 21.275 0 0015.083 6.251 21.275 21.275 0 0015.083-6.251l234.667-234.667c8.34-8.341 8.34-21.824-.001-30.165z\"\n});\n\nfunction SvgDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512.011 512.011\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDown);\nexport default __webpack_public_path__ + \"static/media/down.d3255eb4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState, useCallback } from \"react\"\nimport Accordion from \"components/Accordion/Accordion\"\nimport * as Style from \"./AccordionItem.style\"\nimport IItem from \"typings/IITem\"\nimport { ReactComponent as IconDown } from \"styles/img/down.svg\"\n\ninterface AccordionItemProp {\n  item: IItem\n  parentChecked?: boolean\n  nv: number\n  onChecked: (checked: boolean) => void\n}\n\nconst AccordionItem = ({\n  item,\n  parentChecked = false,\n  nv,\n  onChecked\n}: AccordionItemProp) => {\n  const { id, name, children } = item\n  const [expanded, setExpanded] = useState(false)\n  const [count, setCount] = useState(0)\n  const [checked, setChecked] = useState(false)\n  const [dispachParentChecked, setDispachParentChecked] = useState(false)\n\n  const handleChange = () => {\n    if (checked) setCount(0)\n    else setCount(children.length)\n    setDispachParentChecked(!checked)\n    onChecked(!checked)\n    setChecked(!checked)\n  }\n\n  const handleChecked = (checked: boolean) =>\n    checked\n      ? setCount((oldCount) => ++oldCount)\n      : setCount((oldCount) => (oldCount - 1 < 0 ? 0 : --oldCount))\n\n  const updateParentChecked = useCallback(\n    (parentChecked: boolean) => {\n      setChecked(parentChecked)\n      if (parentChecked) setCount(children.length)\n    },\n    [setCount, children, setChecked]\n  )\n\n  useEffect(() => {\n    updateParentChecked(parentChecked)\n  }, [updateParentChecked, parentChecked])\n\n  useEffect(() => {\n    if (count) setChecked(true)\n  }, [count])\n\n  return (\n    <Style.AccordionItem\n      data-count={count}\n      data-level={nv}\n      data-total={children.length}\n      data-testid={`accordion-item-${id}`}\n      nv={nv}\n      count={count}\n      total={children.length}\n      expanded={expanded}\n    >\n      <div>\n        <input\n          name=\"accordion-item\"\n          id={`accordion-item-${id}`}\n          type=\"checkbox\"\n          checked={checked}\n          onChange={handleChange}\n        />\n        <label htmlFor={`accordion-item-${id}`}>{name}</label>\n        {children.length > 0 && (\n          <button onClick={() => setExpanded(!expanded)} type=\"button\">\n            <IconDown fill=\"currentColor\" width={20} height={20} />\n          </button>\n        )}\n      </div>\n      {children.length > 0 && (\n        <Accordion\n          items={children}\n          parentChecked={dispachParentChecked}\n          nv={++nv}\n          onChecked={handleChecked}\n          expanded={expanded}\n        />\n      )}\n    </Style.AccordionItem>\n  )\n}\n\nexport default AccordionItem\n","import styled from \"styled-components\"\n\nexport const Accordion = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  transition: all 0.2s linear;\n  visibility: hidden;\n  max-height: 0;\n  overflow: hidden;\n\n  &[aria-expanded=\"true\"] {\n    visibility: visible;\n    max-height: 100vh;\n    overflow-y: auto;\n  }\n`\n","import React from \"react\"\nimport AccordionItem from \"components/AccordionItem\"\nimport * as Style from \"./Accordion.style\"\nimport IItem from \"typings/IITem\"\n\ninterface AccordionProp {\n  items: IItem[]\n  parentChecked?: boolean\n  nv?: number\n  onChecked?: (checked: boolean) => void\n  expanded?: boolean\n}\n\nconst Accordion = ({\n  items,\n  parentChecked = false,\n  nv = 1,\n  onChecked = () => {},\n  expanded = true\n}: AccordionProp) => {\n  return (\n    <Style.Accordion aria-expanded={expanded}>\n      {items.map((item) => (\n        <AccordionItem\n          key={item.id}\n          item={item}\n          parentChecked={parentChecked}\n          nv={nv}\n          onChecked={onChecked}\n        />\n      ))}\n    </Style.Accordion>\n  )\n}\n\nexport default Accordion\n","import Accordion from \"components/Accordion\"\nimport React, { useEffect, useState } from \"react\"\nimport Api from \"services\"\nimport IItem from \"typings/IITem\"\n\nconst Home = () => {\n  const [data, setData] = useState<IItem[]>([])\n  useEffect(() => {\n    Api<IItem[]>(\"/react-accordion/data/db.json\").then((data) => setData(data))\n  }, [setData])\n\n  return (\n    <div>\n      <Accordion items={data} />\n    </div>\n  )\n}\n\nexport default Home\n","export default function Api<T>(url: string): Promise<T> {\n  return fetch(url, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  }).then((response) => response.json())\n}\n","import React from \"react\"\nimport Home from \"pages/Home\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Home />\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}